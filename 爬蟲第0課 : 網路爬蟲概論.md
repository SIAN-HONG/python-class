## 網路爬蟲概論

網路爬蟲(web crawler)其實是一個程式，也稱網路蜘蛛(spider)，有時也稱網路機器人(robot)。主要是透過URL(Uniform Resource Locator)遵循一定規則下，抓取網路資訊。
在這裡使用python撰寫網路爬蟲，其實也可以使用其他語言撰寫網路爬蟲，例如:java可以使用WedMagin爬蟲框架、C#可以使用DotnetSpider爬蟲框架。

### 認識HTML
HTML的英文全名是HyperText Markup Language是一種標籤(Tag)語言，每一個標籤都是一個指令，將一系列的標籤組起來就可以用於網頁設計，也就是我們使用看到的瀏覽器。

### 網路地址URL
我們使用瀏覽器瀏覽網頁時，需要在瀏覽器的網址欄未輸入網址，這個網址我們稱為URL(Uniform Resource Locator)，我們可以將這個URL想成Internet地址，就好像我們家的地址。
每個URL所包含的內容就是由HTML文件建立的網頁內容

### 爬蟲類型
#### 通用網路爬蟲
常見的Google、Yahoo、百度搜尋引擎接算是通用網路爬蟲類型，這類爬蟲主要是蒐集每個網站的特色數據，所爬取的範圍與數據量龐大。
#### 聚焦網路爬蟲
主要是依據需求選擇性的爬取相關葉面，不廣泛爬取無關網頁。
#### 增量網路爬蟲
主要是指爬取新增網頁或是已經更新的網頁，對一些沒有更新的網頁不會執行下載。
#### 深層網路爬蟲
是指大部分內容無法從靜態的URL取得，例如:需要用戶名稱與密碼的頁面，只有用戶提交表單時才能獲得的網頁訊息。
### 網路爬蟲是否合法
所有的網站皆是歡迎使用者瀏覽，因此使用網路爬蟲的精神是合法的，我們平常使用Google、Yahoo和百度的搜尋引擎也是這些公司使用網路爬蟲蒐集來的。不過如果過度使用網路爬蟲或越界，則可能造成非法，常見違法行為如下:
1. 使用網路爬蟲與駭客技術結合攻擊網站，竊取後台內容
2. 如果使用多執行續觀念設計網路爬蟲，不斷造訪網站，很可能造成網路癱瘓
### 超文本傳輸協議（HTTP）

在開始講解爬蟲之前，我們稍微對超文本傳輸協議（HTTP）做一些回顧，因為我們在網頁上看到的內容通常是瀏覽器執行 HTML （超文本標記語言）得到的結果，而 HTTP 就是傳輸 HTML 數據的協議。 HTTP 和其他很多應用級協議一樣是構建在 TCP（傳輸控制協議）之上的，它利用了 TCP 提供的可靠的傳輸服務實現了 Web 應用中的數據交換。按照維基百科上的介紹，設計 HTTP 最初的目的是為了提供一種發布和接收 [HTML](https://zh.wikipedia.org/wiki/HTML) 頁面的方法，也就是說，這個協議是瀏覽器和 Web 服務器之間傳輸的數據的載體。關於 HTTP 的詳細信息以及目前的發展狀況，大家可以閱讀[《HTTP 協議入門》](http://www.ruanyifeng.com/blog/2016/08/http.html)、[《互聯網協議入門》](http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html)、[《圖解 HTTPS 協議》](http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html)等文章進行了解。

HTTP協定所傳輸的是不加密的，因此使用這種傳輸協定傳送數據是不安全的，1994年當時最有名的瀏覽器公司Netscape提出了HTTPS(Hyper Text Transfer Protocol Secure)，SSL/TLS是加密封包。

HTTP 請求通常是由請求行、請求頭、空行、消息體四個部分構成，如果沒有數據發給服務器，消息體就不是必須的部分。請求行中包含了請求方法（GET、POST 等，如下表所示）、資源路徑和協議版本；請求頭由若干鍵值對構成，包含了瀏覽器、編碼方式、首選語言、緩存策略等信息；請求頭的後面是空行和消息體。

<img src="https://gitee.com/jackfrued/mypic/raw/master/20210825002720.PNG" width="65%">

HTTP 響應通常是由響應行、響應頭、空行、消息體四個部分構成，其中消息體是服務響應的數據，可能是 HTML 頁面，也有可能是JSON或二進制數據等。響應行中包含了協議版本和響應狀態碼，響應狀態碼有很多種，常見的如下表所示。

<img src="https://gitee.com/jackfrued/mypic/raw/master/20210825002802.PNG" width="65%">
